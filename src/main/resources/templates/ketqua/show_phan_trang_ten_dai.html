<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!--   add fontawesome-->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!--add jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!--    css     -->
    <link rel="stylesheet" th:href="@{/css/user/user.css}">
    <link rel="stylesheet" th:href="@{/css/pagination-share.css}">
    <link rel="stylesheet" th:href="@{/css/message-delete-share.css}">
    <link rel="stylesheet" th:href="@{/css/modal-share.css}">
    <link rel="stylesheet" th:href="@{/css/header-share.css}">

    <title>Kết Quả Xổ Số</title>
    <style>
        td,th {
            text-align: center; /* Canh giữa nội dung ngang */
            vertical-align: middle; /* Canh giữa nội dung dọc */
        }
    </style>
</head>
<body>
<!--header chung-->
<ul class="header__content" >
    <li id="iconMenuBar"><a href="#" ><i class="fas fa-bars" style="margin-left:0.5rem"></i></a></li>
    <li class="header-laptop"><a th:href="@{/us/trang-chu}" ><i class="fas fa-home"></i></a></li>
    <li class="header-laptop"><a th:href="@{/ad/dai-ve-so}" >Đài Vé Số</a></li>
    <li class="header-laptop"><a th:href="@{/ad/showUser}" >Người Dùng</a></li>
    <li class="header-laptop"><a th:href="@{/ad/showListKq}" >Vé Số</a></li>
    <li class="header-laptop"><a th:href="@{/ad/lich-su-do-so}" >Lịch Sử Dò</a></li>


    <li class="dropDown--li header-laptop">
        <div class="header__dropdown">
            <span><a href="#">Thêm</a></span>
            <div class="header__dropdown--content">
                <p><a th:href="@{/ad/add-user}">Nguời Dùng</a></p>
                <p><a th:href="@{/ad/add-kqxs}">Vé Số</a></p>
                <p><a th:href="@{/ad/add-dai-xo-so}">Đài Vé Số</a></p>
            </div>
        </div>
    </li>
    <!--user đã xác thực thì hiện logout-->
    <li sec:authorize="isAuthenticated()">
        <form action="#" th:action="@{/logout}" method="post">
            <span>Chào</span>
            <span sec:authentication="principal.username"></span>
            <input type="submit" value="thoát">
        </form>
    </li>
</ul>

<!-- slide bar mobile-->
<ul class="slideBar__mobile">

    <li ><a th:href="@{/us/trang-chu}" >Trang chủ</a></li>
    <i class="fas fa-times icon__close"></i>
    <li ><a th:href="@{/ad/dai-ve-so}" >Đài Vé Số</a></li>
    <li ><a th:href="@{/ad/showUser}" >Người Dùng</a></li>
    <li ><a th:href="@{/ad/showListKq}" >Vé Số</a></li>
    <li ><a th:href="@{/ad/lich-su-do-so}" >Lịch Sử Dò</a></li>
    <li ><a th:href="@{/ad/add-dai-xo-so}" >Thêm Đài Vé Số</a></li>
    <li ><a th:href="@{/ad/add-user}" >Thêm Người Dùng</a></li>
    <li ><a th:href="@{/ad/add-kqxs}" >Thêm vé số</a></li>
</ul>

<div class="modal-parent"></div>
<div class="modal-container ">
    <i class="fa-solid fa-xmark close"></i>
    <div class="modal__content">Bạn có muốn xóa kết quả xố số không!</div>

    <div class="modal__btn--active">
        <button class="modal-btn btn__active--ok" id="deletes">Ok</button>
        <button class="modal-btn btn__active--cancel">Cancel</button>
    </div>
</div>

    <div class="msg--content" th:text="${mess}" id ="mess--deletes"/>


<div class="container">

    <h3>Kết Quả Xổ Số</h3>
    <div class="f-left" style="width:100%; padding:0;">
        <a th:href="@{/ad/add-kqxs}" class="btn btn-primary btn-sm ">Thêm </a>
        <a  class="btn btn-primary btn-sm btn--deletes " >
            Xóa nhiều
        </a>
    </div>
    <hr>
    <div class="f-parent" style="justify-content:flex-start">
<!--        <div class="f-right">-->
            <!-- input giu ten dai de cho the select hien ten dai nay-->
            <input type="hidden" th:value="${tenDai}" id="input__tenDai">
            <select style="margin-right:0.5rem; height:27.2px" id="select__Dai">
                <option value="1">Chọn đài</option>
                <option th:each="theDai :${listDaiVeSo}" th:value ="${theDai.nameLottery}" th:text="${theDai.nameLottery}"/>
            </select>
            <input type="date"  id="input__find"/>
            <a th:href="@{/ad/ketqua/tenDai_ngay_Xo_So}" id="find__tenDai" style="margin-left:0.5rem;"><i class="fa-solid fa-magnifying-glass"></i></a>
<!--        </div>-->
    </div>

    <div class="table-responsive-xl">

        <table class="table table-bordered table-striped">
            <thead class="table-dark">
            <tr>
                <th>STT</th>
                <th>Check</th>
                <th>Tên Đài</th>
                <th style="min-width:60px">Giải 8</th>
                <th style="min-width:60px">Giải 7</th>
                <th style="min-width:60px">Giải 6</th>
                <th style="min-width:60px">Giải 5</th>
                <th style="min-width:60px">Giải 4</th>
                <th style="min-width:60px">Giải 3</th>
                <th style="min-width:60px">Giải 2</th>
                <th style="min-width:60px">Giải 1</th>
                <th style="min-width:80px">Đặc Biệt</th>
                <th style="min-width:120px">Ngày Xố Số</th>
                <th style="min-width:210px">Hành Động</th>
            </tr>
            </thead>
            <tbody >
            <tr th:each="kq,stt : ${listKq}">
                <td th:text="${stt.count}"/>
                <td><input class="checkBox" type="checkbox" th:value="${kq.id}"/></td>

                <td th:text="${kq.daiXoSo.nameLottery}"/>
                <td th:text="${kq.g8}"/>
                <td th:text="${kq.g7}"/>
                <td >
                    <p th:text="${kq.g61}"></p>
                    <p th:text="${kq.g62}"></p>
                    <p th:text="${kq.g63}"></p>
                </td>
                <td th:text="${kq.g5}"/>
                <td >
                    <p th:text="${kq.g41}"></p>
                    <p th:text="${kq.g42}"></p>
                    <p th:text="${kq.g43}"></p>
                    <p th:text="${kq.g44}"></p>
                    <p th:text="${kq.g45}"></p>
                    <p th:text="${kq.g46}"></p>
                    <p th:text="${kq.g47}"></p>
                </td>
                <td >
                    <p th:text="${kq.g31}"></p>
                    <p th:text="${kq.g32}"></p>
                </td>
                <td th:text="${kq.g2}"/>
                <td th:text="${kq.g1}"/>
                <td th:text="${kq.db}"/>
                <td th:text="${kq.dateLottery}"/>
                <td>
                    <div class="d-flex add-delete">
                        <!--  Add tag a for button update  -->
                        <a th:href="@{/ad/kq/update(id=${kq.id})}"
                           class="btn btn-sm btn-primary me-1" >
                            Sửa
                        </a>
                        <!--  Add tag a for button delete  -->
                        <a th:href="@{/ad/kq/delete(id=${kq.id})}"
                           class="btn btn-sm btn-danger me-1 "
                           onclick="if(!(confirm('Bạn có chắc xóa người dùng không ? '))) return false">
                            Xóa
                        </a>
                        <a th:href="@{/ad/kq/chitiet(id=${kq.id})}"
                           class="btn btn-sm btn-info me-1 text-bg-primary" >
                            Xem chi tiết
                        </a>

                    </div>
                </td>

            </tr>

            </tbody>

        </table>

    </div>
    <!--hien thi phan trang-->

    <div class="pag-container"  >
        <a class="prev" th:href="@{/ad/kq/select_phantrang(tenDai=${tenDai},page=1)}" th:if ="${pageNum.size > 0}" th:text ="Đầu"/>
        <a class="pagination--num" th:each="thePage : ${pageNum}" th:href="@{/ad/kq/select_phantrang(tenDai=${tenDai},page=${thePage})}" th:text="${thePage}"/>

        <a class="next" th:href="@{/ad/kq/select_phantrang(tenDai=${tenDai},page=${pageNum.size})}" th:if ="${pageNum.size > 0}" th:text ="Cuối"/>

    </div>

</div>
<!--js hien thi message khi xoa thanh cong hay that bai-->
<script th:src="@{/js/message-share.js}"></script>
<!--<script th:src="@{/js/user/search-username-phone.js}"></script>-->
<script th:src="@{/js/ketqua/ajax-xoa-nhieu.js}"></script>
<script th:src="@{/js/modal-share.js}"></script>
<script th:src="@{/js/pagination-share.js}"></script>
<!-- js thuc hien chuc nang khi chon ten dai nut select se hien thi du lieu va phan trang -->
<script th:src="@{/js/ketqua/ajax-select-ten-dai.js}"></script>
<!-- js kiem tra nut input có chứa value tenDai thì cho hiển thị lại trên nút select chứa tập hơợp tên đài -->
<script th:src ="@{/js/ketqua/show_select_ten_dai.js}"></script>
<!-- cho nut tim kiem theo ten dai va ngay xo so -->
<script th:src ="@{/js/ketqua/search_by_ten_dai_date_xo_so.js}"></script>
<!--js an hien slide bar mobile-->
<script th:src="@{/js/share-header.js}"></script>

</body>
</html>