<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
                xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!--   add fontawesome-->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!--add jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!--    css     -->
    <link rel="stylesheet" th:href="@{/css/user/user.css}">
    <link rel="stylesheet" th:href="@{/css/pagination-share.css}">
    <link rel="stylesheet" th:href="@{/css/message-delete-share.css}">
    <link rel="stylesheet" th:href="@{/css/modal-share.css}">
    <link rel="stylesheet" th:href="@{/css/header-share.css}">

    <title>Kết Quả Xổ Số</title>
    <style>
        td,th {
            text-align: center; /* Canh giữa nội dung ngang */
            vertical-align: middle; /* Canh giữa nội dung dọc */
        }
    </style>
</head>
<body>
<!--header chung-->
<ul class="header__content" >
    <li id="iconMenuBar"><a href="#" ><i class="fas fa-bars" style="margin-left:0.5rem"></i></a></li>
    <li class="header-laptop"><a th:href="@{/us/trang-chu}" ><i class="fas fa-home"></i></a></li>
    <li class="header-laptop"><a th:href="@{/ad/dai-ve-so}" >Đài Vé Số</a></li>
    <li class="header-laptop"><a th:href="@{/ad/showUser}" >Người Dùng</a></li>
    <li class="header-laptop"><a th:href="@{/ad/showListKq}" >Vé Số</a></li>
    <li class="header-laptop"><a th:href="@{/ad/lich-su-do-so}" >Lịch Sử Dò</a></li>


    <li class="dropDown--li header-laptop">
        <div class="header__dropdown">
            <span><a href="#">Thêm</a></span>
            <div class="header__dropdown--content">
                <p><a th:href="@{/ad/add-user}">Nguời Dùng</a></p>
                <p><a th:href="@{/ad/add-kqxs}">Vé Số</a></p>
                <p><a th:href="@{/ad/add-dai-xo-so}">Đài Vé Số</a></p>
            </div>
        </div>
    </li>
    <!--user đã xác thực thì hiện logout-->
    <li sec:authorize="isAuthenticated()">
        <form action="#" th:action="@{/logout}" method="post">
            <span>Chào</span>
            <span sec:authentication="principal.username"></span>
            <input type="submit" value="thoát">
        </form>
    </li>
</ul>

<!-- slide bar mobile-->
<ul class="slideBar__mobile">

    <li ><a th:href="@{/us/trang-chu}" >Trang chủ</a></li>
    <i class="fas fa-times icon__close"></i>
    <li ><a th:href="@{/ad/dai-ve-so}" >Đài Vé Số</a></li>
    <li ><a th:href="@{/ad/showUser}" >Người Dùng</a></li>
    <li ><a th:href="@{/ad/showListKq}" >Vé Số</a></li>
    <li ><a th:href="@{/ad/lich-su-do-so}" >Lịch Sử Dò</a></li>
    <li ><a th:href="@{/ad/add-dai-xo-so}" >Thêm Đài Vé Số</a></li>
    <li ><a th:href="@{/ad/add-user}" >Thêm Người Dùng</a></li>
    <li ><a th:href="@{/ad/add-kqxs}" >Thêm vé số</a></li>
</ul>


<div class="modal-parent"></div>
<div class="modal-container ">
    <i class="fa-solid fa-xmark close"></i>
    <div class="modal__content">Bạn có muốn xóa kết quả xố số không!</div>

    <div class="modal__btn--active">
        <button class="modal-btn btn__active--ok" id="deletes">Ok</button>
        <button class="modal-btn btn__active--cancel">Cancel</button>
    </div>
</div>

    <div class="msg--content" th:text="${mess}" id ="mess--deletes"/>


<div class="container">

    <h3>Lịch Sử Dò Số</h3>
    <div class="f-left" style="width:100%; padding: 0 0 1rem 0;">
        <a  class="btn btn-primary btn-sm btn--deletes " >
            Xóa nhiều
        </a>
    </div >



    <div class="table-responsive-xl">

        <table class="table table-bordered table-striped">
            <thead class="table-dark">
            <tr>
                <th>STT</th>
                <th>Check</th>
                <th style="min-width:120px">Tên Đài</th>
                <th style="min-width:120px">Ngày Xố Số</th>
                <th style="min-width:120px">Số Dò</th>
                <th style="min-width:120px">Người dò</th>
                <th style="min-width:120px">Ngày Dò</th>
                <th style="min-width:120px">Giờ dò</th>
                <th style="min-width:120px">Tin nhắn</th>
                <th style="min-width:120px">Trạng thái</th>
                <th style="min-width:120px">Tiền thưởng</th>
                <th style="min-width:120px">Hành Động</th>
            </tr>
            </thead>
            <tbody >
            <tr th:each="lsDs,stt : ${listLsDs}">
                <td th:text="${stt.count}"/>
                <td><input class="checkBox" type="checkbox" th:value="${lsDs.id}"/></td>

                <td th:text="${lsDs.ketQuaXoSo.daiXoSo.nameLottery}"/>
                <td th:text="${lsDs.ketQuaXoSo.dateLottery}"/>
                <td th:text="${lsDs.soDo}"/>
                <td th:if="${lsDs.social != null}" th:text="${lsDs.social}"/>
                <td th:if="${lsDs.user != null}" th:text="${lsDs.user.userName}"/>

                <td th:text="${lsDs.ngayDo}"/>
                <td th:text="${lsDs.hourDoSo}"/>

                <td th:text="${lsDs.messKq}"/>
                <td th:text="${lsDs.status}"/>
                <td th:if="${lsDs.tienThuong != null}" th:text="${lsDs.tienThuong.tienThuong}"/>
                <td th:if="${lsDs.tienThuong == null}" th:text="0đ"/>
                <td>
                    <div class="d-flex add-delete">
                        <!--  Add tag a for button delete  -->
                        <a th:href="@{/ad/lich-su-do-so/delete(id=${lsDs.id})}"
                           class="btn btn-sm btn-danger me-1 "
                           onclick="if(!(confirm('Bạn có chắc xóa người dùng không ? '))) return false">
                            Xóa
                        </a>
                    </div>
                </td>

            </tr>

            </tbody>

        </table>

    </div>

    <!--hien thi phan trang-->
    <div class="pag-container" >
        <a class="prev" href="/ad/lich-su-do-so/phantrang?page=1" th:if ="${pageNum.size > 1}" th:text ="Đầu"/>
        <a class="pagination--num" th:each="thePage : ${pageNum}" th:if ="${pageNum.size > 1}" th:href="@{/ad/lich-su-do-so/phantrang(page=${thePage})}" th:text="${thePage}"/>

        <a class="next" th:href="@{/ad/lich-su-do-so/phantrang(page=${pageNum.size})}" th:if ="${pageNum.size > 1}" th:text ="Cuối"/>
    </div>

</div>
<!--js hien thi message khi xoa thanh cong hay that bai-->
<script th:src="@{/js/message-share.js}"></script>
<script th:src="@{/js/modal-share.js}"></script>
<script th:src="@{/js/pagination-share.js}"></script>
<script th:src="@{/js/lichsudoso/ajax-xoa-nhieu.js}"></script>
<!--js an hien slide bar mobile-->
<script th:src="@{/js/share-header.js}"></script>

</body>
</html>